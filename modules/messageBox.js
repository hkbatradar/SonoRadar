export function showMessageBox({message:e="",title:t="",confirmText:n="OK",cancelText:c=null,onConfirm:o,onCancel:a,width:l=420,input:d=!1,inputType:p="text",inputPlaceholder:i="",inputValue:s=""}={}){const m=document.createElement("div");m.className="map-popup modal-popup",m.style.width=`${l}px`;const u=document.createElement("div");if(u.className="popup-drag-bar",t){const e=document.createElement("span");e.className="popup-title",e.textContent=t,u.appendChild(e)}const r=document.createElement("button");r.className="popup-close-btn",r.title="Close",r.innerHTML="&times;",u.appendChild(r),m.appendChild(u);const f=document.createElement("div");f.className="message-box-content";const h=document.createElement("div");h.textContent=e,f.appendChild(h);let C=null;d&&(C=document.createElement("input"),C.type=p||"text",C.placeholder=i||"",C.value=s||"",C.style.marginTop="8px",C.style.width="100%",C.style.boxSizing="border-box",f.appendChild(C),setTimeout((()=>{C.focus()}),10)),m.appendChild(f);const x=document.createElement("div");x.className="message-box-actions";const E=document.createElement("button");E.className="flat-icon-button",E.textContent=n,x.appendChild(E);let v=null;function b(e){if(m.remove(),"confirm"===e&&"function"==typeof o)try{C?o(C.value):o()}catch(e){o()}else"cancel"===e&&"function"==typeof a&&a()}c&&(v=document.createElement("button"),v.className="flat-icon-button",v.textContent=c,x.appendChild(v)),m.appendChild(x),E.addEventListener("click",(()=>b("confirm"))),v?.addEventListener("click",(()=>b("cancel"))),r.addEventListener("click",(()=>b("close"))),C&&C.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),b("confirm")),"Escape"===e.key&&(e.preventDefault(),b("cancel"))})),document.body.appendChild(m)}
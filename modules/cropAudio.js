export async function cropWavBlob(t,e,n){if(!t)return null;const r=await t.arrayBuffer(),i=new DataView(r);let a=-1,o=0,f=-1,l=0,g=12;for(;g<i.byteLength-8;){const t=String.fromCharCode(i.getUint8(g),i.getUint8(g+1),i.getUint8(g+2),i.getUint8(g+3)),e=i.getUint32(g+4,!0);if("fmt "===t)a=g+8,o=e;else if("data"===t){f=g+8,l=e;break}g+=8+e+e%2}if(a<0||f<0)return null;const s=i.getUint16(a+2,!0),U=i.getUint32(a+4,!0),u=s*i.getUint16(a+14,!0)/8,c=Math.floor(e*U),w=Math.floor(n*U),h=f+c*u,y=Math.min(f+l,f+w*u);if(y<=h)return null;const b=y-h,p=new Uint8Array(r.slice(0,f)),d=new Uint8Array(r.slice(h,y)),m=new Uint8Array(p.length+b);m.set(p,0),m.set(d,p.length);const A=new DataView(m.buffer);return A.setUint32(4,m.length-8,!0),A.setUint32(f-4,b,!0),new Blob([m.buffer],{type:t.type||"audio/wav"})}
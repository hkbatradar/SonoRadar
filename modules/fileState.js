let fileList=[],currentIndex=-1,fileIcons={},fileNotes={},fileMetadata={};export function setFileList(e,t=0){fileList=e,currentIndex=t,fileIcons={},fileNotes={},fileMetadata={}}export function addFilesToList(e,t=0){if(!Array.isArray(e)||0===e.length)return;const i=fileList.length;fileList=fileList.concat(e),currentIndex=i+t}export function getFileList(){return fileList}export function getCurrentIndex(){return currentIndex}export function setCurrentIndex(e){e>=0&&e<fileList.length&&(currentIndex=e)}export function getCurrentFile(){return currentIndex>=0&&currentIndex<fileList.length?fileList[currentIndex]:null}export function toggleFileIcon(e,t){if(fileIcons[e]||(fileIcons[e]={trash:!1,star:!1,question:!1}),t in fileIcons[e]){fileIcons[e][t]=!fileIcons[e][t];try{document.dispatchEvent(new CustomEvent("file-icon-toggled",{detail:{index:e,type:t,state:fileIcons[e][t]}}))}catch(e){}}}export function getFileIconState(e){return fileIcons[e]||{trash:!1,star:!1,question:!1}}export function clearFileList(){fileList=[],currentIndex=-1,fileIcons={},fileNotes={},fileMetadata={}}export function setFileNote(e,t){fileNotes[e]=t}export function getFileNote(e){return fileNotes[e]||""}export function setFileMetadata(e,t){fileMetadata[e]=t}export function getFileMetadata(e){return fileMetadata[e]||{date:"",time:"",latitude:"",longitude:""}}export function getTrashFileCount(){return fileList.reduce(((e,t,i)=>fileIcons[i]&&fileIcons[i].trash?e+1:e),0)}export function getTrashFileNames(){return fileList.reduce(((e,t,i)=>(fileIcons[i]&&fileIcons[i].trash&&e.push(t.name),e)),[])}export function clearTrashFiles(){if(0===fileList.length)return 0;const e=getCurrentFile(),t=[],i={},n={},l={};fileList.forEach(((e,r)=>{if(!(fileIcons[r]||{}).trash){const o=t.length;t.push(e),fileIcons[r]&&(i[o]={...fileIcons[r]}),fileNotes[r]&&(n[o]=fileNotes[r]),fileMetadata[r]&&(l[o]=fileMetadata[r])}}));const r=fileList.length-t.length;return r>0&&(fileList=t,fileIcons=i,fileNotes=n,fileMetadata=l,currentIndex=e?t.findIndex((t=>t===e)):-1),r}export function removeFilesByName(e){const t=fileList.filter((t=>t.name!==e));t.length!==fileList.length&&(fileList=t,currentIndex=-1,fileIcons={},fileNotes={},fileMetadata={})}
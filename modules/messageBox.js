export function showMessageBox({message:e="",title:t="",confirmText:n="OK",cancelText:c=null,onConfirm:o,onCancel:l,width:a=420,input:d=!1,inputType:p="text",inputPlaceholder:s="",inputValue:i=""}={}){const m=document.createElement("div");m.className="map-popup modal-popup",m.style.width=`${a}px`;const u=document.createElement("div");if(u.className="popup-drag-bar",t){const e=document.createElement("span");e.className="popup-title",e.textContent=t,u.appendChild(e)}const r=document.createElement("button");r.className="popup-close-btn",r.title="Close",r.innerHTML="&times;",u.appendChild(r),m.appendChild(u);const x=document.createElement("div");x.className="message-box-content";const f=document.createElement("div");f.textContent=e,x.appendChild(f);let h=null;d&&(h=document.createElement("input"),h.type=p||"text",h.placeholder=s||"",h.value=i||"",h.style.marginTop="8px",h.style.width="100%",h.style.boxSizing="border-box",h.style.border="1px solid #ccc",h.style.borderRadius="4px",h.style.boxShadow="inset 0 1px 2px rgba(0, 0, 0, 0.05)",h.style.padding="4px 10px",x.appendChild(h),setTimeout((()=>{h.focus()}),10)),m.appendChild(x);const b=document.createElement("div");b.className="message-box-actions";const y=document.createElement("button");y.className="flat-icon-button",y.textContent=n,b.appendChild(y);let C=null;function E(e){if(m.remove(),"confirm"===e&&"function"==typeof o)try{h?o(h.value):o()}catch(e){o()}else"cancel"===e&&"function"==typeof l&&l()}c&&(C=document.createElement("button"),C.className="flat-icon-button",C.textContent=c,b.appendChild(C)),m.appendChild(b),y.addEventListener("click",(()=>E("confirm"))),C?.addEventListener("click",(()=>E("cancel"))),r.addEventListener("click",(()=>E("close"))),h&&h.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),E("confirm")),"Escape"===e.key&&(e.preventDefault(),E("cancel"))})),document.body.appendChild(m)}
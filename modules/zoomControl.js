export function initZoomControls(t,e,n,o,c,i=null,a=null,l=(()=>!1)){const u=document.getElementById("zoom-in"),d=document.getElementById("zoom-out"),f=document.getElementById("expand-btn");let r=500,s=250,m=!1;function p(){if(l()){const t=n();if(t>0){if(t<1e3)return 4e3;if(t<3e3)return 3e3}}return 2500}function y(){let t=c.clientWidth;const e=n();e>0&&(s=Math.floor((t-2)/e))}function h(){y(),"function"==typeof i&&i();const l=p();r=Math.min(Math.max(r,s),l),t&&"function"==typeof t.zoom&&"function"==typeof t.getDuration&&t.getDuration()>0&&t.zoom(r);const u=n()*r;e.style.width=`${u}px`,c.style.width=`${u}px`,o(),"function"==typeof a&&a(),x()}function x(){y();const t=m,e=p();u.disabled=t||r>=e,d.disabled=t||r<=s,f.classList.toggle("active",m)}function M(t){m!==t&&(m=t,y(),r=m?s:Math.max(s,500),h(),x())}return u.onclick=()=>{if(!m){const t=p();r<t&&(r=Math.min(r+500,t)),h()}},d.onclick=()=>{m||(y(),r>s&&(r=Math.max(r-500,s),h()))},f.onclick=()=>{M(!m)},document.addEventListener("keydown",(t=>{if(t.ctrlKey)switch(t.key){case"ArrowUp":t.preventDefault(),u.click();break;case"ArrowDown":t.preventDefault(),d.click();break;case"0":t.preventDefault(),f.click()}})),{applyZoom:h,updateZoomButtons:x,getZoomLevel:()=>r,setZoomLevel:t=>{y();const e=p();r=Math.min(Math.max(t,s),e),h()},setExpandMode:M,isExpandMode:()=>m,forceExpandMode:()=>{y(),m&&(r=s,h())}}}